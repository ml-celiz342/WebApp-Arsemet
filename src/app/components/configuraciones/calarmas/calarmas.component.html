<h2 class="titulo-pagina">Alarmas</h2>
    <div class="definicion-contenedor">
      <div class="definicion-contenedor-filtro">
        <mat-card class="mat-card-custom mat-elevation-z4">
          <div class="filtro-header">
            <span class="filtro-texto">
              <strong>Filtro de estados:</strong>
              <!-- Checkbox Activos/Inactivos -->
              <mat-checkbox
                class="example-margin"
                (change)="toggleChecked('activos')"
                [checked]="isSelected('activos')"
              >
                Habilitados</mat-checkbox
              >
              <mat-checkbox
                class="example-margin"
                (change)="toggleChecked('inactivos')"
                [checked]="isSelected('inactivos')"
                >Deshabilitados</mat-checkbox
              >
            </span>
            <div class="filtro-botones">
              <mat-spinner *ngIf="cargando"></mat-spinner>
              <button mat-icon-button (click)="recargar()" matTooltip="Recargar definiciones">
                <mat-icon>refresh</mat-icon>
              </button>
              <button mat-icon-button (click)="agregarEditarDefiniciones()"
              *ngIf=" (authService.hasPermission('alarms','read') && authService.hasPermission('alarms','write'))"
              matTooltip="Agregar definición"
              >
                <mat-icon class="agregar-icono">add_circle</mat-icon>
              </button>
            </div>
          </div>
        </mat-card>
      </div>
      <div class="definicion-contenedor-tabla">
        <mat-card class="mat-card-custom mat-elevation-z4">
          <div class="definicion-contenedor-element">
            <div class="table-wrapper">
              <table mat-table [dataSource]="dataSourceListAlarmas" class="table">
                <!-- Alias -->
                <ng-container matColumnDef="alias">
                  <th mat-header-cell *matHeaderCellDef>Nombre</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.alias }}
                  </td>
                </ng-container>

                <!-- nombre -->
                <ng-container matColumnDef="nombre">
                  <th mat-header-cell *matHeaderCellDef>Identificación</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.nombre }}
                  </td>
                </ng-container>

                <!-- Origen -->
                <ng-container matColumnDef="origen">
                  <th mat-header-cell *matHeaderCellDef>Origen</th>
                  <td mat-cell *matCellDef="let element">
                    {{ utilidades.capitalize(element.origen) }}
                  </td>
                </ng-container>

                <!-- Nivel -->
                <ng-container matColumnDef="nivel">
                  <th mat-header-cell *matHeaderCellDef>Nivel</th>
                  <td mat-cell *matCellDef="let element">
                    {{ utilidades.capitalize(element.nivel) }}
                  </td>
                </ng-container>

                <!-- estado -->
                <ng-container matColumnDef="estado">
                  <th mat-header-cell *matHeaderCellDef>Estado</th>
                  <td mat-cell *matCellDef="let element">
                    {{ utilidades.printBoolean(element.estado) }}
                  </td>
                </ng-container>

                <!-- Acciones -->
                <ng-container matColumnDef="acciones">
                  <th mat-header-cell *matHeaderCellDef>Acciones</th>
                  <td mat-cell *matCellDef="let element">
                    <div class="evidencia-cell">
                      <!-- Botón para Editar -->
                      <button
                        mat-icon-button
                        (click)="agregarEditarDefiniciones(element)"
                        *ngIf=" (authService.hasPermission('alarms','read') && authService.hasPermission('alarms','edit'))"
                        matTooltip="Editar definicion"
                        >
                        <mat-icon class="editar-icono">edit</mat-icon>
                      </button>

                      <!-- Botón para Eliminar -->
                      <button
                        mat-icon-button
                        (click)="eliminarDefinicion(element)"
                         *ngIf=" (authService.hasPermission('alarms','edit'))"
                         matTooltip="Eliminar definicion"
                        >
                        <mat-icon class="eliminar-icono">delete</mat-icon>
                      </button>
                    </div>
                  </td>
                </ng-container>

                <tr
                  mat-header-row
                  *matHeaderRowDef="displayedListAlarmas"
                  class="table-header"
                ></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedListAlarmas"
                ></tr>
              </table>
            </div>
            <mat-paginator
              #paginatorDefinicion
              [pageSizeOptions]="[10, 20]"
              showFirstLastButtons
              class="table-paginator"
            ></mat-paginator>
          </div>
        </mat-card>
      </div>
      <!-- Nivel -->
      <div class="nivel-contenedor-tabla">
        <mat-card class="mat-card-custom mat-elevation-z4">
          <div class="nivel-contenedor-element">
            <div class="table-wrapper">
              <table mat-table [dataSource]="dataSourceNiveles" class="table">
                <!-- nivel -->
                <ng-container matColumnDef="nivel">
                  <th mat-header-cell *matHeaderCellDef>Nivel</th>
                  <td mat-cell *matCellDef="let element">
                    {{ utilidades.capitalize(element.nombre) }}
                  </td>
                </ng-container>
                <!-- Notificacion -->
                <ng-container matColumnDef="notificacion">
                  <th mat-header-cell *matHeaderCellDef>Notificación</th>
                  <td mat-cell *matCellDef="let element">
                    {{ utilidades.capitalize(element.accion) }}
                  </td>
                </ng-container>

                <!-- Acciones -->
                <ng-container matColumnDef="acciones">
                  <th mat-header-cell *matHeaderCellDef>
                    <div class="acciones-cell">
                      Acción
                    </div>
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <div class="acciones-cell">
                      <button
                        mat-icon-button
                        (click)="editarNivel(element)"
                        *ngIf=" (authService.hasPermission('alarms','read') && authService.hasPermission('alarms','edit'))"
                        matTooltip="Editar nivel"
                        >
                        <mat-icon class="editar-icono">edit</mat-icon>
                      </button>
                    </div>
                  </td>
                </ng-container>

                <tr
                  mat-header-row
                  *matHeaderRowDef="displayedNiveles"
                  class="table-header"
                ></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedNiveles"
                ></tr>
              </table>
            </div>
            <mat-paginator
              #paginatorNiveles
              [hidePageSize]="true"
              [pageSizeOptions]="[20]"
              showFirstLastButtons
              class="table-paginator"
            ></mat-paginator>
          </div>
        </mat-card>
      </div>
      <!-- Origen -->
      <div class="origen-contenedor-tabla">
        <mat-card class="mat-card-custom mat-elevation-z4">
          <div class="origen-contenedor-element">
            <div class="table-wrapper">
              <table mat-table [dataSource]="dataSourceOrigen" class="table">
                <!-- origen -->
                <ng-container matColumnDef="origen">
                  <th mat-header-cell *matHeaderCellDef>Origen</th>
                  <td mat-cell *matCellDef="let element">
                    {{ utilidades.capitalize(element.nombre) }}
                  </td>
                </ng-container>

                <!-- Acciones -->
                <ng-container matColumnDef="acciones">
                  <th mat-header-cell *matHeaderCellDef>
                    <div class="acciones-cell">
                      Acción
                      <button mat-icon-button (click)="agregarOrigen()"
                      *ngIf=" (authService.hasPermission('alarms','write'))"
                      matTooltip="Agregar origen"
                      >
                        <mat-icon class="agregar-icono">add_circle</mat-icon>
                      </button>
                    </div>
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <div class="acciones-cell">
                      <!-- Botón para Eliminar -->
                      <button mat-icon-button (click)="eliminarOrigen(element)"
                      *ngIf=" (authService.hasPermission('alarms','edit'))"
                      matTooltip="Eliminar origen"
                      >
                        <mat-icon class="eliminar-icono">delete</mat-icon>
                      </button>
                    </div>
                  </td>
                </ng-container>

                <tr
                  mat-header-row
                  *matHeaderRowDef="displayedOrigen"
                  class="table-header"
                ></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedOrigen"
                ></tr>
              </table>
            </div>
            <mat-paginator
              #paginatorOrigen
              [hidePageSize]="true"
              [pageSizeOptions]="[20]"
              showFirstLastButtons
              class="table-paginator"
            ></mat-paginator>
          </div>
        </mat-card>
      </div>
    </div>

